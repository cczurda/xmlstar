#!/bin/sh

DIR=`pwd`

TESTS="count1 countnode1 delete1 dtd1 dtd2 elem1 exslt1 findfile1 genxml1 hello1 look1 noindent1 schema sel1 sort1 structure1 sum1 tab1 table1 table2 table3 xinclude1 xsl-param1 xsl-sum1"

cd ../examples

for i in $TESTS
do
    ./${i} > /tmp/xmlstarlet.$$ 2>/dev/null
    diff /tmp/xmlstarlet.$$ results/${i}.out >/dev/null 2>&1
    if [ $? != "0" ]
    then
	    echo "test $i - FAILED"
    else
	    echo "test $i - success"
    fi
    rm -f /tmp/xmlstarlet.$$
done

cd ${DIR}

